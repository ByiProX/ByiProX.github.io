---
title: 面试总结之数据库篇(持续更新)
date: 2018-09-26 00:01:30
tags:
  - 面试
  - 数据库
categories:
  - 面试
  - 数据库
---

#### 1. SQL语言包含4个部分：

   `DDL(Data Define Language)`:数据**定义**语言。其语句包括动词`CREATE`和`DROP`。在数据库中创建新表或删除表（CREAT TABLE 或 DROP TABLE）；为表加入索引等。DDL包括许多与人数据库目录中获得数据有关的保留字。它也是动作查询的一部分。`ALTER` TABLE 语句用于在已有的表中添加、修改或删除列。

   `DML(Data Manipulation Language)`:数据**操作**语言。其语句包括动词`INSERT`，`UPDATE`和`DELETE`。它们分别用于添加，修改和删除表中的行。也称为动作查询语言。

   `DQL(Data Query Language)`:数据**查询**语言。也称为“数据检索语句”，用以从表中获得数据，确定数据怎样在应用程序给出。保留字`SELECT`是DQL（也是所有SQL）用得最多的动词，其他DQL常用的保留字有WHERE，ORDER BY，GROUP BY和HAVING。这些DQL保留字常与其他类型的SQL语句一起使用。

   `DCL(Data Control Language)`:数据**控制**语言。它的语句通过`GRANT`或`REVOKE`获得许可，确定单个用户和用户组对数据库对象的访问。某些RDBMS可用GRANT或REVOKE控制对表单个列的访问,`COMMIT`、`ROLLBACK`来提交和回滚。

<!-- more -->
#### 2. DROP、DELETE和TRUNCATE区别

|  Diffs   | DELETE    |TRUNCATE   | Drop |
| :-----: | :-----:  | :-----:   |  :-----:|
| 执行速度      | 慢  | 较快  |       快       |
| 可执行条件    | 可以  | 不可以  |   不可以       |
| 语句分类    | DML  | DDL  |        DDL       |
| 可以回滚事务    | 可以  | 不可以  |     不可以      |
| 删除操作记录日志    | 记录  | 不记录  |     不记录     |

参考另外一篇日志《DELETE和TRUNCATE区别》


#### 3. 主键和外键的作用

  主键约束作用：
  - 唯一标识一条记录
  - 提高数据的检索效率

  外键约束作用：
  - 保证数据的完整性
  - 提高数据的检索效率

#### 4. UNIQUE和PRIMARY区别

#### 5. 索引分类以及使用索引的优缺点

分类：

|索引类型|使用场景|
|:-------:|:-------:|
| B-tree| 适合处理那些能够按顺序存储数据      |
|Hash|只能处理简单的比较|
|Gist|一种索引架构|
|GIN|翻转索引，处理包含多个值的键|

优点：
 - 提高数据的查询速度
 - 加速表与表之间的连接

缺点：
 - 创建和维护索引需要耗费时间
 - 需要占用磁盘空间


#### 6. 视图的作用
  - 简单化
  - 安全性
  - 逻辑数据独立性

#### 7. 事务四个特性及四个隔离级别


#### 8. 数据库范式
- 第一范式（1NF）
`所谓第一范式（1NF）是指在关系模型中，对域添加的一个规范要求，所有的域都应该是原子性的，即数据库表的每一列都是不可分割的原子数据项`，而不能是集合，数组，记录等非原子数据项。即实体中的某个属性有多个值时，必须拆分为不同的属性。在符合第一范式（1NF）表中的每个域值只能是实体的一个属性或一个属性的一部分。`简而言之，第一范式就是无重复的域。`


- 第二范式（2NF）
第二范式（2NF）是在第一范式（1NF）的基础上建立起来的，即满足第二范式（2NF）必须先满足第一范式（1NF）。`第二范式（2NF）要求数据库表中的每个实例或记录必须可以被唯一地区分`。选取一个能区分每个实体的属性或属性组，作为实体的唯一标识。`第二范式（2NF）要求实体的属性完全依赖于主关键字。所谓完全依赖是指不能存在仅依赖主关键字一部分的属性`，如果存在，那么这个属性和主关键字的这一部分应该分离出来形成一个新的实体，新实体与原实体之间是一对多的关系。`简而言之，第二范式就是在第一范式的基础上属性完全依赖于主键。`

- 第三范式（3NF）
在2NF基础上，任何非主属性不依赖于其它非主属性（在2NF基础上消除传递依赖）
第三范式（3NF）是第二范式（2NF）的一个子集，即满足第三范式（3NF）必须满足第二范式（2NF）。`简而言之，第三范式（3NF）要求一个关系中不包含已在其它关系已包含的非主关键字信息。可以理解为消除冗余。`例如，存在一个部门信息表，其中每个部门有部门编号（dept_id）、部门名称、部门简介等信息。那么在员工信息表中列出部门编号后就不能再将部门名称、部门简介等与部门有关的信息再加入员工信息表中。如果不存在部门信息表，则根据第三范式（3NF）也应该构建它，否则就会有大量的数据冗余。






---------------










-------------------
