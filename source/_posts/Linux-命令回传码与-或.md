---
title: Linux 命令回传码与 && 或 ||
date: 2018-09-05 14:46:14
tags:
  - Linux/Mac OS
categories:
  - Linux/Mac OS
---
Linux中，若前一个命令执行的结果是正确的，那么在Linux中会回传一个`$?=0`,即 `echo $?` 显示为0。

| 命令执行情况        | 说明     |
| :-----:           | :-----:     |
|`cmd1 && cmd2`       |若`cmd1`执行完毕且正确执行（`$?=0`）,则执行`cmd2`;  若`cmd1`执行完毕且为错误（`$?≠0`）,则`cmd2`不被执行 |
|`cmd1 11 cmd2`      | 若`cmd1`执行完毕且正确执行（`$?=0`）,则`cmd2`不被执行;  若`cmd1`执行完毕且为错误（`$?≠0`）,则执行`cmd2` |

<!-- more -->
示例：以ls测试`/tmp/wkx`执行后，若存在则显示"exits",若不存在，则显示"not exits"。

#### 错误答案
```Bash
ls /tmp/vvv || echo "not exits" && echo "exits"
```
以上答案执行后的结果同时出现not exits和exits。具体问题可以尝试分析。
#### 正确答案
```Bash
ls /tmp/vvv && echo "exits" || echo "not exits"
```

通过该练习，了解到由于命令时一个接着一个去执行的，因此，如果真要使用判断，那么这个`&&和||`的顺序就不能搞错。一般来说，假设判断公式有三个，也就是：
```Bash
cmd1 && cmd2 || cmd3
```
而且顺序通常不会变。因为一般来讲，cmd2和cmd3会放置肯定可以执行成功的命令，因此依据上面的逻辑分析，我们就可以知道为什么要如此放置，这是很有用的，而且考试也很常考。
